(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[941],{6054:function(e,r,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/order",function(){return a(2806)}])},2806:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return j}});var n=a(5666),t=a.n(n),c=a(5893),i=a(7294),o=a(2479),s=a(849),d=a(2190),l=a(9795),u=a(3664),p=a(2410),m=a.n(p),h=a(1163),_=a(6076),g=a(944),f=a(7727),v=a(9016),b=a(1955);function x(e,r,a,n,t,c,i){try{var o=e[c](i),s=o.value}catch(d){return void a(d)}o.done?r(s):Promise.resolve(s).then(n,t)}function y(e){return function(){var r=this,a=arguments;return new Promise((function(n,t){var c=e.apply(r,a);function i(e){x(c,n,t,i,o,"next",e)}function o(e){x(c,n,t,i,o,"throw",e)}i(void 0)}))}}function N(e){return new Promise((function(r){var a=document.createElement("script");a.src=e,a.onload=function(){r(!0)},a.onerror=function(){r(!1)},document.body.appendChild(a)}))}function j(e){e=null!==e?e:function(e){throw e}(new TypeError("Cannot destructure undefined"));var r=(0,h.useRouter)(),a=(0,i.useState)(!1),n=a[0],p=a[1],x=(0,i.useState)(!1),j=x[0],w=x[1],k=(0,i.useState)({}),P=k[0],C=k[1];(0,i.useEffect)((function(){O()}),[]);var O=y(t().mark((function e(){var a,n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),a=r.query.id,e.prev=2,e.next=5,v.Z.get("/getCoursePurchaseDetail?batch_id=".concat(a));case 5:n=e.sent,C(n.data.data),w(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),w(!1);case 13:case"end":return e.stop()}}),e,null,[[2,10]])}))),Z=y(t().mark((function e(r){var a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),a={access_token:b.Z.get(_.t5),attampt_id:"",transacation_id:r,amount:P.batch_purchase_price,pay_amount:P.batch_purchase_price,lang:P.language_code,batch_id:P.batch_id},e.prev=2,e.next=5,v.Z.post("/makeCoursePayment",a);case 5:e.sent,w(!1),p(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),w(!1);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));function S(){return(S=y(t().mark((function e(){var r,a,n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N("https://checkout.razorpay.com/v1/checkout.js");case 2:if(e.sent){e.next=6;break}return g.Am.error("Razorpay SDK failed to load. Are you online?",{theme:"colored"}),e.abrupt("return");case 6:return e.next=8,v.Z.post("/initRazorpay",{access_token:b.Z.get(_.t5),amount:P.batch_purchase_price});case 8:r=e.sent,a=localStorage.getItem(_.DX)&&JSON.parse(localStorage.getItem(_.DX)),n={key:"rzp_test_gyvo1RLOGSiqAB",currency:r.data.currency,amount:r.data.amount.toString(),order_id:r.data.id,name:"Tremendo",description:"Purchase ".concat(P.batch_language," language"),image:"https://firebasestorage.googleapis.com/v0/b/tremendodev.appspot.com/o/static_images%2Ftremendo_logo.png?alt=media&token=2180fdbc-cab2-4f3e-9721-cd61da3348ba",handler:function(e){Z(e.razorpay_payment_id)},prefill:{name:a.name,email:a.email}};try{new window.Razorpay(n).open()}catch(t){g.Am.error("Razorpay SDK failed to load. Are you online?",{theme:"colored"})}case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,c.jsxs)(c.Fragment,{children:[j&&(0,c.jsx)(o.Z,{active:!0,children:(0,c.jsx)(s.Z,{})}),(0,c.jsxs)("div",{className:m().base,children:[(0,c.jsx)("div",{className:m().heading,children:"Summary"}),(0,c.jsxs)("div",{className:m().imageDetailWrapper,children:[(0,c.jsx)("div",{className:m().flagImage,children:(0,c.jsx)(d.Z,{src:P.flag_url,alt:"flag"})}),(0,c.jsxs)("div",{className:m().details,children:[(0,c.jsx)("div",{className:m().courseName,children:"".concat(P.batch_language," Course - Batch-").concat(P.batch_id)}),(0,c.jsx)("div",{className:m().description,children:"You are purchasing for ".concat(P.batch_language," language which is starting from ").concat(P.batch_starting_date,". Are you want to purchase?")})]})]}),(0,c.jsxs)("div",{className:m().priceWrapper,children:[(0,c.jsx)("div",{className:m().orignalPriceHeading,children:"Orignal Price:"}),(0,c.jsxs)("div",{className:m().price,children:[" ","\u20b9 ",P.batch_purchase_price]})]}),(0,c.jsxs)("div",{className:m().totalPriceWrapper,children:[(0,c.jsx)("div",{className:m().orignalPriceHeading,children:"Total:"}),(0,c.jsxs)("div",{className:m().price,children:[" ","\u20b9 ",P.batch_purchase_price]})]}),(0,c.jsx)("div",{className:m().continueBtn,children:(0,c.jsx)(u.Z,{label:"Continue Payment",height:50,backgroundColor:"#25908d",textStyle:{color:"#fff",fontFamily:"Poppins",fontSize:"20px",fontWeight:"700"},border:"none",onClick:function(){return function(){return S.apply(this,arguments)}()}})})]}),(0,c.jsxs)("div",{className:m().termAndCondition,children:["By completing your purchase you agree to these"," ",(0,c.jsx)("span",{onClick:function(){return console.log("go to tc")},style:{color:"#0656cf",cursor:"pointer"},children:"Terms of Service."})]}),(0,c.jsx)(l.Z,{onClose:function(){return p(!1),void r.replace(f.M4)},open:n,closeIcon:!0,className:m().modalStyles,children:(0,c.jsx)(l.Z.Content,{image:!0,children:(0,c.jsx)(d.Z,{src:"https://firebasestorage.googleapis.com/v0/b/tremendodev.appspot.com/o/static_images%2Fsuccess_image.png?alt=media&token=a22dbbd8-88a7-46b1-b725-60f117beafc0",wrapped:!0,alt:"success image"})})})]})}},2410:function(e){e.exports={base:"Order_base__1h6My",heading:"Order_heading__1X9fy",flagImage:"Order_flagImage__Pngqo",imageDetailWrapper:"Order_imageDetailWrapper__3qgW6",details:"Order_details__2Js-L",description:"Order_description__uiRpA",priceWrapper:"Order_priceWrapper__1zqzS",orignalPriceHeading:"Order_orignalPriceHeading__3lK73",price:"Order_price__CdsFs",totalPriceWrapper:"Order_totalPriceWrapper__3X8zG",continueBtn:"Order_continueBtn__1GLMs",termAndCondition:"Order_termAndCondition__3n8XL"}},849:function(e,r,a){"use strict";var n=a(7462),t=a(6010),c=a(7294),i=a(8459),o=a(8935),s=a(2519),d=a(2248);function l(e){var r=e.active,a=e.children,u=e.className,p=e.content,m=e.disabled,h=e.indeterminate,_=e.inline,g=e.inverted,f=e.size,v=(0,t.Z)("ui",f,(0,i.lG)(r,"active"),(0,i.lG)(m,"disabled"),(0,i.lG)(h,"indeterminate"),(0,i.lG)(g,"inverted"),(0,i.lG)(a||p,"text"),(0,i.sU)(_,"inline"),"loader",u),b=(0,o.Z)(l,e),x=(0,s.Z)(l,e);return c.createElement(x,(0,n.Z)({},b,{className:v}),d.kK(a)?p:a)}l.handledProps=["active","as","children","className","content","disabled","indeterminate","inline","inverted","size"],l.propTypes={},r.Z=l}},function(e){e.O(0,[795,774,888,179],(function(){return r=6054,e(e.s=r);var r}));var r=e.O();_N_E=r}]);